<mxfile host="app.diagrams.net" modified="2020-11-28T07:43:47.520Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Safari/537.36" etag="GqybUr9Nif53zVj9Mv2h" version="13.10.4" type="github">
  <diagram id="BaCmowR_inJ1n_efUm44" name="Page-1">
    <mxGraphModel dx="1422" dy="839" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="QCgtomHjtAyX_vJk-oNa-1" value="&lt;font style=&quot;vertical-align: inherit&quot;&gt;&lt;font style=&quot;vertical-align: inherit&quot;&gt;&lt;font style=&quot;vertical-align: inherit&quot;&gt;&lt;font style=&quot;vertical-align: inherit&quot;&gt;&lt;font style=&quot;vertical-align: inherit&quot;&gt;&lt;font style=&quot;vertical-align: inherit&quot;&gt;&lt;b&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;责任链模式：&lt;/span&gt;&lt;br&gt;&lt;font size=&quot;1&quot;&gt;紫色为&lt;/font&gt;&lt;/b&gt;&lt;b style=&quot;font-size: 16px&quot;&gt;&amp;nbsp;&lt;/b&gt;&lt;/font&gt;&lt;/font&gt;&lt;/font&gt;&lt;/font&gt;&lt;/font&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="40" y="120" width="170" height="50" as="geometry" />
        </mxCell>
        <mxCell id="QCgtomHjtAyX_vJk-oNa-10" style="edgeStyle=orthogonalEdgeStyle;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.382;entryY=0.031;entryDx=0;entryDy=0;entryPerimeter=0;rounded=1;" edge="1" parent="1" source="QCgtomHjtAyX_vJk-oNa-2" target="QCgtomHjtAyX_vJk-oNa-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QCgtomHjtAyX_vJk-oNa-11" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="QCgtomHjtAyX_vJk-oNa-2" target="QCgtomHjtAyX_vJk-oNa-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QCgtomHjtAyX_vJk-oNa-12" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="QCgtomHjtAyX_vJk-oNa-2" target="QCgtomHjtAyX_vJk-oNa-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QCgtomHjtAyX_vJk-oNa-18" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="QCgtomHjtAyX_vJk-oNa-2" target="QCgtomHjtAyX_vJk-oNa-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QCgtomHjtAyX_vJk-oNa-2" value="RiskControllerManager" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#9673a6;fillColor=#e1d5e7;" vertex="1" parent="1">
          <mxGeometry x="317" y="400" width="176" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QCgtomHjtAyX_vJk-oNa-3" value="&lt;h1 style=&quot;font-size: 10px&quot;&gt;&lt;pre style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198) ; font-size: 10px&quot;&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;&lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;protected &lt;/span&gt;String &lt;span style=&quot;color: rgb(152 , 118 , 170) ; font-size: 10px&quot;&gt;name&lt;/span&gt;&lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;;&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;protected &lt;/span&gt;RiskControllerManager &lt;span style=&quot;color: rgb(152 , 118 , 170) ; font-size: 10px&quot;&gt;superior&lt;/span&gt;&lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;;&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;public &lt;/span&gt;&lt;span style=&quot;color: rgb(255 , 198 , 109) ; font-size: 10px&quot;&gt;RiskControllerManager &lt;/span&gt;(String name) {&lt;br style=&quot;font-size: 10px&quot;&gt;    &lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;color: rgb(152 , 118 , 170) ; font-size: 10px&quot;&gt;name &lt;/span&gt;= name&lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;;&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;}&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;span style=&quot;color: rgb(98 , 151 , 85) ; font-style: italic ; font-size: 10px&quot;&gt;/**&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(98 , 151 , 85) ; font-style: italic ; font-size: 10px&quot;&gt; * 设置风控策略&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(98 , 151 , 85) ; font-style: italic ; font-size: 10px&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color: rgb(98 , 151 , 85) ; font-style: italic ; font-size: 10px&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color: rgb(138 , 101 , 59) ; font-style: italic ; font-size: 10px&quot;&gt;superior&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(138 , 101 , 59) ; font-style: italic ; font-size: 10px&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(98 , 151 , 85) ; font-style: italic ; font-size: 10px&quot;&gt;*/&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;public void &lt;/span&gt;&lt;span style=&quot;color: rgb(255 , 198 , 109) ; font-size: 10px&quot;&gt;setSuperior&lt;/span&gt;(&lt;/span&gt;&lt;font style=&quot;font-size: 10px&quot;&gt;RiskControllerManager &lt;/font&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;superior) {&lt;br style=&quot;font-size: 10px&quot;&gt;    &lt;/span&gt;&lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;this&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;.&lt;/span&gt;&lt;span style=&quot;color: rgb(152 , 118 , 170) ; font-size: 10px&quot;&gt;superior &lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;= superior&lt;/span&gt;&lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;;&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;}&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(98 , 151 , 85) ; font-style: italic ; font-size: 10px&quot;&gt;/**&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(98 , 151 , 85) ; font-style: italic ; font-size: 10px&quot;&gt; * 处理请求&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(98 , 151 , 85) ; font-style: italic ; font-size: 10px&quot;&gt; * &lt;/span&gt;&lt;span style=&quot;color: rgb(98 , 151 , 85) ; font-style: italic ; font-size: 10px&quot;&gt;@param &lt;/span&gt;&lt;span style=&quot;color: rgb(138 , 101 , 59) ; font-style: italic ; font-size: 10px&quot;&gt;request&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(138 , 101 , 59) ; font-style: italic ; font-size: 10px&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: rgb(98 , 151 , 85) ; font-style: italic ; font-size: 10px&quot;&gt;*/&lt;br style=&quot;font-size: 10px&quot;&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;public abstract void &lt;/span&gt;&lt;span style=&quot;color: rgb(255 , 198 , 109) ; font-size: 10px&quot;&gt;handlerRequest&lt;/span&gt;&lt;span style=&quot;font-size: 10px&quot;&gt;(Request request)&lt;/span&gt;&lt;span style=&quot;color: rgb(204 , 120 , 50) ; font-size: 10px&quot;&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/h1&gt;" style="text;html=1;strokeColor=none;fillColor=none;spacing=5;spacingTop=-20;whiteSpace=wrap;overflow=hidden;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="210" y="90" width="390" height="270" as="geometry" />
        </mxCell>
        <mxCell id="QCgtomHjtAyX_vJk-oNa-14" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="QCgtomHjtAyX_vJk-oNa-5" target="QCgtomHjtAyX_vJk-oNa-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QCgtomHjtAyX_vJk-oNa-5" value="FisrstRiskController" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="137" y="525" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QCgtomHjtAyX_vJk-oNa-16" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="QCgtomHjtAyX_vJk-oNa-8" target="QCgtomHjtAyX_vJk-oNa-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QCgtomHjtAyX_vJk-oNa-8" value="SecondRiskController" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="345" y="525" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QCgtomHjtAyX_vJk-oNa-15" style="edgeStyle=orthogonalEdgeStyle;rounded=1;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="QCgtomHjtAyX_vJk-oNa-9" target="QCgtomHjtAyX_vJk-oNa-13">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="QCgtomHjtAyX_vJk-oNa-9" value="ThirdRiskController" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="557" y="525" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="QCgtomHjtAyX_vJk-oNa-13" value="&lt;pre style=&quot;background-color: rgb(43 , 43 , 43) ; color: rgb(169 , 183 , 198)&quot;&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;public &lt;/span&gt;&lt;span style=&quot;color: #ffc66d&quot;&gt;FirstRiskController&lt;/span&gt;(String name) {&lt;br&gt;    &lt;span style=&quot;color: #cc7832&quot;&gt;super&lt;/span&gt;(name)&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;}&lt;br&gt;&lt;br&gt;&lt;span style=&quot;color: #bbb529&quot;&gt;@Override&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;public void &lt;/span&gt;&lt;span style=&quot;color: #ffc66d&quot;&gt;handlerRequest&lt;/span&gt;(Request request) {&lt;br&gt;    &lt;span style=&quot;color: #cc7832&quot;&gt;if &lt;/span&gt;(RequestTypeEnum.&lt;span style=&quot;font-style: italic&quot;&gt;valueOf&lt;/span&gt;(request.getRequestType()) != &lt;span style=&quot;color: #cc7832&quot;&gt;null &lt;/span&gt;&amp;amp;&amp;amp; request.getMoney() &amp;lt;= &lt;span style=&quot;color: #6897bb&quot;&gt;1000&lt;/span&gt;) {&lt;br&gt;        System.&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;out&lt;/span&gt;.println(&lt;span style=&quot;color: #6a8759&quot;&gt;&quot;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt; 普通操作 ， 免除密码&quot;&lt;/span&gt;)&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;        &lt;/span&gt;System.&lt;span style=&quot;color: #9876aa ; font-style: italic&quot;&gt;out&lt;/span&gt;.println(&lt;span style=&quot;color: #9876aa&quot;&gt;name&lt;/span&gt;+ &lt;span style=&quot;color: #6a8759&quot;&gt;&quot;  : &quot;&lt;/span&gt;+ request.getRequestType() + &lt;span style=&quot;color: #6a8759&quot;&gt;&quot;, 金额 &quot;&lt;/span&gt;+ request.getMoney() + &lt;span style=&quot;color: #6a8759&quot;&gt;&quot;处理完成&quot;&lt;/span&gt;)&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;    &lt;/span&gt;} &lt;span style=&quot;color: #cc7832&quot;&gt;else &lt;/span&gt;{&lt;br&gt;        &lt;span style=&quot;color: #808080&quot;&gt;// 这里不能处理，则交给下一级处理&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #808080&quot;&gt;        &lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;if &lt;/span&gt;(&lt;span style=&quot;color: #9876aa&quot;&gt;superior &lt;/span&gt;!= &lt;span style=&quot;color: #cc7832&quot;&gt;null&lt;/span&gt;) {&lt;br&gt;            &lt;span style=&quot;color: #9876aa&quot;&gt;superior&lt;/span&gt;.handlerRequest(request)&lt;span style=&quot;color: #cc7832&quot;&gt;;&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;color: #cc7832&quot;&gt;        &lt;/span&gt;}&lt;br&gt;    }&lt;br&gt;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="70" y="640" width="670" height="260" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
